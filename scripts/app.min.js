var dgMovieApp=angular.module("dgMovieApp",[]);function MoviesListController(e,t,i,o){var n=this;n.filter=null,n.movies=[],n.filters=[{label:"2000's",min:2e3,max:2009},{label:"1990's",min:1990,max:1999}],o.get("http://www.omdbapi.com/?s=Batman&apikey=2b48aeda").then(function(e){n.movies=e.data.Search.slice(0,10),n.movies.forEach(function(e,t){o.get("http://www.omdbapi.com/?i="+e.imdbID+"&apikey=2b48aeda").then(function(t){e=Object.assign(e,t.data)},function(t){console.log("ERROR",e.Title)})})},function(e){console.log("ERROR:",e)})}function MoviesFilterController(){var e=this;e.updateActiveFilter=function(t){t.active?(t.active=!1,e.activeFilter=null):(e.activeFilter&&(e.activeFilter.active=!1),e.activeFilter=t,t.active=!0)}}dgMovieApp.component("moviesList",{templateUrl:"content/templates/movies-list.html",controller:["$scope","$element","$attrs","$http",MoviesListController]}),dgMovieApp.component("moviesFilter",{templateUrl:"content/templates/movies-filter.html",controller:MoviesFilterController,bindings:{filters:"<",activeFilter:"="}}),dgMovieApp.component("movieDetail",{templateUrl:"content/templates/movie-detail.html",bindings:{movie:"<"}}),dgMovieApp.filter("byDecade",function(){return function(e,t){return t?e.filter(function(e){return("number"!=typeof t.min||e.Year>=t.min)&&("number"!=typeof t.max||e.Year<=t.max)}):e}});